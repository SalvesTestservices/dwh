<div class="mb-10 md:flex md:items-center md:justify-between">
  <div class="min-w-0 flex-1">
    <h2 class="flex items-center gap-3 text-2xl/7 font-bold text-gray-700 sm:truncate sm:text-3xl sm:tracking-tight">
      <%= render(View::IconComponent.new(icon_type: "lock", size: "medium", color: "gray")) %>
      <%= I18n.t(".role.titles.index") %>
    </h2>
  </div>

  <% if can?(:write, :roles) %>
    <%= link_to I18n.t(".role.titles.new"), new_role_path, class: "whitespace-nowrap text-gray-700 bg-gray-100 hover:bg-gray-50 sm:h-10 mt-1 px-1 px-2 sm:px-4 py-2 text-sm mr-1 border border-gray-300 shadow-sm font-medium rounded" %>
  <% end %>
</div>


<div class="bg-gray-50 rounded-lg p-4 my-3 border border-gray-300">
  <div class="min-w-full divide-y divide-gray-200">
    <div class="bg-gray-50 flex flex-row items-center">
      <div class="w-2/12 align-top px-2 py-3 text-left text-xs font-bold text-gray-700 uppercase tracking-wider">
        <%= I18n.t(".activerecord.attributes.role.name") %>
      </div>
      <div class="w-6/12 align-top px-2 py-3 text-left text-xs font-bold text-gray-700 uppercase tracking-wider">
        <%= I18n.t(".activerecord.attributes.role.permissions") %>
      </div>
      <div class="w-3/12 align-top px-2 py-3 text-left text-xs font-bold text-gray-700 uppercase tracking-wider"></div>
    </div>

    <% if roles.blank? %>
      <div class="bg-white flex flex-row justify-center items-center">
        <div class="table-cell h-20 pt-7 whitespace-nowrap text-xm text-center text-gray-900"><%= I18n.t('.general.no_records') %></div>
      </div>
    <% else %>
      <% roles.each do |role| %>
        <div class="bg-white flex flex-row items-center">
          <div class="w-2/12 text-left flex items-center px-2 h-9 whitespace-nowrap text-xs text-gray-900"><%= role.name %></div>
          <div class="w-6/12 text-sm text-gray-500">
            <div class="flex flex-wrap gap-2 w-full">
              <% role.permissions.each do |permission| %>
                <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800">
                  <%= permission %>
                </span>
              <% end %>
            </div>
          </div>
          <div class="w-3/12 px-2 py-3 text-sm text-gray-700">
            <div class="flex flex-row justify-center gap-2 w-full">
              <% if can?(:write, :roles) %>
                <%= render(View::ButtonComponent.new(title: I18n.t(".general.edit").downcase, url: edit_role_path(role), button_type: "link", size: "small")) %>
              <% end %>
              <% if can?(:delete, :roles) %>
                <%= render(View::ButtonComponent.new(title: I18n.t(".general.destroy").downcase, url: role_path(role), button_type: "delete_button", size: "small")) %>
              <% end %>
            </div>
          </div>
        </div>
      <% end %>
    <% end %>
  </div>
</div>
